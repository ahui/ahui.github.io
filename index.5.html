<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ahui的个人博客</title>
  <link href="css/main.css" rel="stylesheet" type="text/css" />
  <link href="css/960.css" rel="stylesheet" type="text/css" />
  <style type="text/css" id="custom-background-css">
  body.custom-background { background-color: #e9e9e9; background-image: url('image/bg-pattern.png'); background-repeat: repeat; background-position: top left; background-attachment: fixed; }
  </style>
</head>
<body class="single single-post postid-1342 single-format-standard custom-background">
  <div class="wrapper">  

    <div id="header">      
      <div class="container_16 clearfix">
        <div class="grid_16">
          <div id="headimg">
            <div id="logo-text">
              <span class="site-name"><a href="index.html" title="Ahui的个人博客" rel="home">Ahui的个人博客</a></span>
              <span class="site-description">&#8211;Since 2010 by Ahui.</span>
            </div>
          </div>     
        </div>
      </div>     
    </div>

    <div class="container_16 clearfix">
      <div id="nav" class="grid_16">
        <div class="menu clearfix">
          <ul>
            <li class="page_item page-item-2"><a href="post/about.html">About</a></li>
            <li class="page_item page-item-7"><a href="post/about.html">关于ahui</a></li>
          </ul>
        </div>
      </div>
    </div>


    <div class="container_16 clearfix">

      <div class="grid_11">
        
  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2013-05-11 11:46:47">
            <a href="post/vdi-file-lost-network.html" title="2013-05-11 11:46:47" rel="bookmark">
              <span class="entry-date-day">11</span>
              <span class="entry-date-month-year">2013-05</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/vdi-file-lost-network.html">Ubuntu on Virtual Box VDI 复制后丢失网卡</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/linux.html" rel="tag">linux</a>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><p>A机，VB安装Ubuntu 12.10 Server,网卡模式为桥接。此时Ubuntu中网卡为eth0，DHCP, 连接正常。复制硬盘VDI文件至B机。</p>

<p>B机，VB安装完成后，新建立linux类虚拟机，并使用复制过来的Ａ机VDI文件启动，此时DHP无法取得ＩＰ，并且不能手工ifconfig eth0 up，查看发现eth0不存在，网卡设备转为eth1.估计网卡mac有变动.</p>

<p>解决：
- 修改/etc/network/interface,将其中二行eth0相关配置，修改成eth1</p>
</p>
      </div>

    </div>

 
  </div>  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2013-04-19 12:14:20">
            <a href="post/yahoomailbk.html" title="2013-04-19 12:14:20" rel="bookmark">
              <span class="entry-date-day">19</span>
              <span class="entry-date-month-year">2013-04</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/yahoomailbk.html">yahoo邮件备份</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/blog.html" rel="tag">blog</a>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><p>yahoo中国邮箱要没了,试了一下转移到阿里云,一则死活收不到手机激活码,二则邮箱名还是有了变化,只能放弃. </p>

<p>开通pop3后,用foxmail能收取收件箱里的内容,但所有自定义文件夹里的邮件取不下来,需要手工全部转移到收件箱后,再收取. 另外以前 yahoo 记事本的内容,手工copy下来吧...</p>

<p>BTW,yahoo这是怎么了...变河西了呢.</p>
</p>
      </div>

    </div>

 
  </div>  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2013-01-31 22:02:02">
            <a href="post/adsl20.html" title="2013-01-31 22:02:02" rel="bookmark">
              <span class="entry-date-day">31</span>
              <span class="entry-date-month-year">2013-01</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/adsl20.html">总算用上光纤了</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/blog.html" rel="tag">blog</a>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><p>从12年12月起跑联通营业厅折腾五六趟才算光改完成,然后又经过一个月的2M包月,才用上20M的光纤,不过上传依然限速1M.</p>

<p><a href="http://ahui.us/wp-content/uploads/2013/01/2475759828.png"><img src="http://ahui.us/wp-content/uploads/2013/01/2475759828.png" alt="" title="2475759828"></a></p>
</p>
      </div>

    </div>

 
  </div>  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2012-09-22 16:14:32">
            <a href="post/freenas-8-0-1-on-iscsi.html" title="2012-09-22 16:14:32" rel="bookmark">
              <span class="entry-date-day">22</span>
              <span class="entry-date-month-year">2012-09</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/freenas-8-0-1-on-iscsi.html">freeNAS 8.0.1 上 iSCSI存在的几个问题</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/linux.html" rel="tag">linux</a>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><ol>
<li>二台win 7机器A,B同时连接上iSCSI,分别在iSCSI盘上新建立的文件，互相不可见，需要删除当前的iSCSI连接，再重设。</li>
<li>同上A，B二机短时间内写同一目录，大部分情况下会导致些目录损坏，不能再访问。</li>
<li>在iSCSI上COPY大文件后，马上重启NAS,文件大部分情况下会丢失。</li>
<li>iSCSI盘采用NTFS时，COPY文件速度会降低一些。</li>
</ol>

<p>可见freeNAS 8.0.1版本上的iSCSI存在比较大的问题，只有在长期开着NAS并且长期只有一个写入用户的情况下，才能放心使用。其他大多数情况，应该采用其他文件共享协议。</p>
</p>
      </div>

    </div>

 
  </div>  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2012-08-21 10:35:38">
            <a href="post/chrome-cache-dir.html" title="2012-08-21 10:35:38" rel="bookmark">
              <span class="entry-date-day">21</span>
              <span class="entry-date-month-year">2012-08</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/chrome-cache-dir.html">Chrome字体及缓存目录修改</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/blog.html" rel="tag">blog</a>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><p>字体+阴影，打开</p>

<pre><code>C:\Users\[用户名]\AppData\Local\Google\Chrome\User Data\Default\User StyleSheets\Custome.css
</code></pre>

<p>添加</p>

<pre><code>*{font-family:Arial,&quot;Microsoft Yahei&quot; !important;}
*{text-shadow: silver 0px 0px 1px !important;}
</code></pre>

<p>其中第一行将所有字体改为雅黑，第二行设置1px的字体阴影。1440以上高分屏，设置第二行效果很好。1366的只添加第一行。</p>

<p>缓存目录
shift+右 点击Chrome图标，属性，目标后添加</p>

<pre><code>--disk-cache-dir=“Z:\Users\&quot;
</code></pre>

<p>其中Z:为RAM盘，设置RAM盘并修改系统TEMP目录后，会自动建立类Users[用户名]的目录。否则如果指定的Users目录不存在，Chrome启动会报错。</p>
</p>
      </div>

    </div>

 
  </div>  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2012-07-10 19:21:11">
            <a href="post/skype-en.html" title="2012-07-10 19:21:11" rel="bookmark">
              <span class="entry-date-day">10</span>
              <span class="entry-date-month-year">2012-07</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/skype-en.html">skype 国际版下载地址</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><p>http://download.skype.com/SkypeSetupFull.exe </p>
</p>
      </div>

    </div>

 
  </div>  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2012-05-03 16:41:25">
            <a href="post/linux_youku_antiad.html" title="2012-05-03 16:41:25" rel="bookmark">
              <span class="entry-date-day">03</span>
              <span class="entry-date-month-year">2012-05</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/linux_youku_antiad.html">linux下youku去广告+黑屏</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/linux.html" rel="tag">linux</a>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><p>去广告
hosts加入</p>

<pre><code>127.0.0.1 atm.youku.com
127.0.0.1 Fvid.atm.youku.com
127.0.0.1 html.atm.youku.com
127.0.0.1 valb.atm.youku.com
127.0.0.1 valf.atm.youku.com
127.0.0.1 valo.atm.youku.com
127.0.0.1 valp.atm.youku.com
127.0.0.1 lstat.youku.com
127.0.0.1 speed.lstat.youku.com
127.0.0.1 urchin.lstat.youku.com
127.0.0.1 stat.youku.com
127.0.0.1 static.lstat.youku.com
127.0.0.1 valc.atm.youku.com
127.0.0.1 vid.atm.youku.com
127.0.0.1 walp.atm.youku.com
</code></pre>

<p>去黑屏</p>

<pre><code>cd ~/.macromedia/Flash_Player/#SharedObjects/xxx/
</code></pre>

<p>xxx为随机串</p>

<pre><code>rm -tf static.youku.com
touch static.youku.com
sudo chown root.root static.youku.com
</code></pre>

<p>重启浏览器。</p>
</p>
      </div>

    </div>

 
  </div>  <div id="content">    
    <div class="post type-post status-publish format-standard hentry">
      <div class="entry-meta-group clearfix">
        <div class="grid_2 alpha">
          <time class="entry-date entry-time updated" datetime="2011-10-24 16:24:01">
            <a href="post/diy-nas-softeare.html" title="2011-10-24 16:24:01" rel="bookmark">
              <span class="entry-date-day">24</span>
              <span class="entry-date-month-year">2011-10</span>
            </a>
          </time>
        </div>
        <div class="grid_8 omega">
          <h1 class="entry-title entry-title-single">
            <a href="post/diy-nas-softeare.html">DIY家用NAS之软件篇</a>
          </h1>
          <div class="entry-meta">    
            <span class="entry-meta-sep"><a href="http://ahui.us/" title="Ahui">Ahui</a> &sdot;</span>
            <span class="tag-links">
              <span class="entry-utility-prep entry-utility-prep-tag-links">Tagged:</span>
              <a href="tag/blog.html" rel="tag">blog</a>
              <a href="tag/linux.html" rel="tag">linux</a>
              <a href="tag/network.html" rel="tag">network</a>
            </span>
          </div>
        </div>
      </div>

      <div class="entry-content clearfix">
        <p><p>NAS系统的选择,首先放弃了windows系统. 然后在DIY linux与现成开源的类linux nas系统中,确定用现成的freenas,基于freebsd的nas. </p>

<p>freenas现在主版本有7.x 与8.x二个系列. 7.x的风格更类linux一点,配置时要先加硬盘,格式化,再mount到对应目录,最后再共享目录.</p>

<p>不过对于我配置的特定硬件,7.x    无法自动认出板上的网卡以及sata接口. 网卡驱动倒是可以换一个,不过认不出sata接口却无法解决,这样系统启动后一个硬盘都找不到.</p>

<p>8.x系列,封装得更好一点,配置也简单很多. 当然DIY的自由度也少了很多.  另外8.x对ZFS的支持要完善很多,用raid z相当方便.</p>

<ol>
<li>首先去http://www.freenas.org/下载FreeNAS-8.0.2-RELEASE-amd64-Full_Install.xz,因为用到了8G内存,必须用64位版本,而且zfs文件系统,要求内存越大越好,6G+是必要的.</li>
<li>用7zip解开FreeNAS-8.0.2-RELEASE-amd64-Full<em>Install.xz,是个2G左右的FreeNAS-8.0.2-RELEASE-amd64-Full</em>Install文件</li>
<li>用dd或physdiskwrite.exe写到一个2G以上的u盘上.用u盘做系统盘,一是能省下一个sata接口以后好扩充,二是8.x的freenas不能再使用系统盘上的空闲空间.</li>
<li>启动nas并配置好ip地址后web登录,默认帐号为admin/freenas</li>
<li>在Storage中,用Create Volume,选取三块硬盘,fs选择zfs,zaid z模式.命名为public. 这时就创建好了一个总容易为3.8T的raid z卷. 并且以后所有的目录分配或iscsi都基于public卷.</li>
<li>Create ZFS Dataset用来创建不用的应用目录,用于分配给不同的用户或是用作不同的用途.</li>
<li>Create ZFS Volume创建一个指定容量的大文件,用于iscsi的虚拟磁盘.</li>
<li>配置好后,在System-&gt;Settings,-&gt;Save Config里,保存好当前配置.这样万一系统损坏或u盘物理损坏后,通过前四步,然后导入现有配置就能恢复.</li>
<li>最后在Services中,启用CIFS,FTP以及iSCSI三个主要共享功能.</li>
</ol>

<p>这样能通过ftp,windows的网上邻居,linux的smb,以及iscsi访问nas上的空间. </p>

<p>1000Mbps网络环境中,上下传速度其中以iscsi速度最快,约70MB/s左右,然后是ftp,60MB/s左右,网上邻居要慢点,40~50MB/s左右. 100Mbps网络环境三者都能比较稳定在10MB/s左右. 由此可见,使用nas,1000Mbps的网络环境是必要的.</p>

<p>最后从总功耗以及传输速度来看,基本上满足了自己的要求.</p>
</p>
      </div>

    </div>

 
  </div>
 
<div id="loop-nav-numeric" class="nav-numeric">
  <a class='page-numbers' href='index.html'>1</a>
  <a class='page-numbers' href='index.1.html'>2</a>
  <a class='page-numbers' href='index.2.html'>3</a>
  <a class='page-numbers' href='index.3.html'>4</a>
  <a class='page-numbers' href='index.4.html'>5</a>
  <span class='page-numbers current'>6</span>
  <a class='page-numbers' href='index.6.html'>7</a>
  <a class='page-numbers' href='index.7.html'>8</a>
  <a class='page-numbers' href='index.8.html'>9</a>
  <a class='page-numbers' href='index.9.html'>10</a>
  <a class='page-numbers' href='index.10.html'>11</a>
  <a class='page-numbers' href='index.11.html'>12</a>
  <a class="next page-numbers" href="index.6.html">Next &raquo;</a>  <div class="clear"></div>
</div>
      </div> 

      <div class="grid_5">

<div id="sidebar">
  <div class="widget widget_search widget-widget_search">
    <div class="widget-wrap widget-inside">
      <div class="search">
        <form method="get" class="searchform" action="https://www.google.com/search">
          <input name="sitesearch" value="http://ahui.us" type="hidden"> 
          <input name="hl" value="zh-CN" type="hidden">
          <input name="ie" value="GB2312" type="hidden"> 
          <input type="text" class="field" name="q" id="query" value="Search" onfocus="if(this.value==this.defaultValue)this.value='';" onblur="if(this.value=='')this.value=this.defaultValue;" />
          <input type="submit" class="submit" name="Search" id="searchsubmit" value="Search" />
        </form>
      </div>
    </div>
  </div>


  <div class="widget widget_categories widget-widget_categories">
    <div class="widget-wrap widget-inside">
      <h3 class="widget-title">标签</h3>
      <ul>
        <li class="cat-item"><a href="tag/notag.html">notag &sdot; (3)</a></li>
        <li class="cat-item"><a href="tag/linux.html">linux &sdot; (41)</a></li>
        <li class="cat-item"><a href="tag/network.html">network &sdot; (60)</a></li>
        <li class="cat-item"><a href="tag/blog.html">blog &sdot; (26)</a></li>
        <li class="cat-item"><a href="tag/vps.html">vps &sdot; (4)</a></li>
        <li class="cat-item"><a href="tag/turkey.html">turkey &sdot; (11)</a></li>
        <li class="cat-item"><a href="tag/sofeware.html">sofeware &sdot; (3)</a></li>
        <li class="cat-item"><a href="tag/abb.html">abb &sdot; (3)</a></li>
        <li class="cat-item"><a href="tag/game.html">game &sdot; (5)</a></li>
        <li class="cat-item"><a href="tag/wii.html">wii &sdot; (3)</a></li>
        <li class="cat-item"><a href="tag/wow.html">wow &sdot; (1)</a></li>
        <li class="cat-item"><a href="tag/mac.html">mac &sdot; (2)</a></li>
        <li class="cat-item"><a href="tag/android.html">android &sdot; (1)</a></li>
        <li class="cat-item"><a href="tag/tesla.html">tesla &sdot; (2)</a></li>
        <li class="cat-item"><a href="tag/python.html">python &sdot; (5)</a></li>
        <li class="cat-item"><a href="tag/openerp.html">openerp &sdot; (2)</a></li>
        <li class="cat-item"><a href="tag/sip.html">sip &sdot; (2)</a></li>
        <li class="cat-item"><a href="tag/vpn.html">vpn &sdot; (1)</a></li>
        <li class="cat-item"><a href="tag/ssh.html">ssh &sdot; (2)</a></li>
        <li class="cat-item"><a href="tag/ipv6.html">ipv6 &sdot; (2)</a></li>
        <li class="cat-item"><a href="tag/aboutme.html">aboutme &sdot; (1)</a></li>
      </ul>
    </div>
  </div>

  <div class="widget widget_recent_entries widget-widget_recent_entries">
    <div class="widget-wrap widget-inside">
      <h3 class="widget-title">最新文章</h3>
      <ul> 
        <li><a href='post/sysbench_zhi_alpine_yu_ubuntu.html'>sysbench 之 Alpine 与 Ubuntu</a></li>
        <li><a href='post/abb_jing_tai_wen_jian_fang_an.html'>A B B   静 态 文 件 方 案</a></li>
        <li><a href='post/abb_geng_xin_0.3.html'>A B B   更 新   0 . 3</a></li>
        <li><a href='post/canadianreferralcodeformodelxnew.html'>Canadian referral code for tesla Model X and S = save  CAD 1400,  153 days left</a></li>
        <li><a href='post/canadianreferralcodeformodelx.html'>Canadian referral code for tesla Model X and S = save  CAD 1200,  80 days left</a></li>
        <li><a href='post/zai_macos_huo_windows_shang_zhi_jie_shi_yong_boot2docker.iso.html'>在 MacOS 或 Windows 上直接使用 boot2docker.iso</a></li>
        <li><a href='post/rapberrypi2_zai_u_pan_shang_yun_xing_xi_tong.html'>Rapberry Pi 2 在u盘上运行系统</a></li>
        <li><a href='post/rapberrypi2_yun_xing_docker.html'>Rapberry Pi 2 运行 Docker</a></li>
        <li><a href='post/shu_ju_ku_cun_qu_su_du_you_hua.html'>数据库存取速度优化</a></li>
        <li><a href='post/ubuntu14grub2_qu_xiao_zhong_qi_gua_zhu.html'>Ubuntu 14 grub 2 取消重启挂住</a></li>
      </ul>
    </div>
  </div>


<!-- <div class="widget widget_comments">
  <h3 class="widget-title">最新评论</h3>
  <ul class="entry ds-recent-comments" data-num-items="5" data-show-avatars="0" data-show-title="0" data-show-time="1"></ul>
</div>
<! 多说公共JS代码 start (一个网页只需插入一次) -->

<!-- 多说公共JS代码 end -->

</div>      </div>

    </div>

    <div class="container_16 containter_footer">
      <div id="footer" class="grid_16">
        <div class="grid_8 alpha">
          <div class="copyright_inside">
            &copy; Copyright 2014 - <a href="http://ahui.us">Ahui的个人博客</a>  </div>
          </div>
          <div class="grid_8 omega">
            <div class="credit_inside">
              <a href="https://designorbital.com/contango/" title="Contango Theme">Contango Theme</a> &sdot; Modifiy by <a href="http://ahui.us">ahui</a> &nbsp;&nbsp;&nbsp;&nbsp; 
            </div>
          </div>
        </div>
      </div>

    </div>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="f71bfeca-c575-43b9-81c8-438d08dad5e8"></script>
  </body>
  </html>
